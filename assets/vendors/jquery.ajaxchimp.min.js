!function(a){"use strict";a.ajaxChimp={responses:{0:"We have sent you a confirmation email",1:"Please enter a value",2:"An email address must contain a single @",3:"The domain portion of the email address is invalid",4:"The username portion of the email address is invalid",5:"This email address looks fake or invalid. Please enter a real email address",6:"is already subscribed to list"},translations:{en:null},init:function(e,s){a(e).ajaxChimp(s)}},a.fn.ajaxChimp=function(e){return a(this).each(function(s,i){var n,t=a(i),r=t.find("input[type=email]");n=e.label?e.label:t.find("label[for="+r.attr("id")+"]");var l=a.extend({url:t.attr("action"),language:"en"},e),o=l.url.replace("/post?","/post-json?").concat("&c=?");t.attr("novalidate","true"),r.attr("name","EMAIL"),t.submit(function(){var e;var s={},i=t.serializeArray();a.each(i,function(a,e){s[e.name]=e.value}),a.ajax({url:o,data:s,success:function(s){if("success"===s.result)e="We have sent you a confirmation email",n.removeClass("error").addClass("valid"),r.removeClass("error").addClass("valid");else{r.removeClass("valid").addClass("error"),n.removeClass("valid").addClass("error");try{var i=s.msg.split(" - ",2);void 0===i[1]?e=s.msg:parseInt(i[0],10).toString()===i[0]?(i[0],e=i[1]):e=s.msg}catch(a){e=s.msg}}var t,o=0;if(Object.keys)o=Object.keys(a.ajaxChimp.responses).length;else for(var m in a.ajaxChimp.responses)a.ajaxChimp.responses.hasOwnProperty(m)&&o++;for(;o--;)-1!==e.indexOf(a.ajaxChimp.responses[o])&&(t=o);"en"!==l.language&&t>-1&&a.ajaxChimp.translations&&a.ajaxChimp.translations[l.language]&&a.ajaxChimp.translations[l.language][t]&&(e=a.ajaxChimp.translations[l.language][t]),n.html(e).show(),setTimeout(function(){n.hide()},4500),l.callback&&l.callback(s)},dataType:"jsonp",error:function(a,e){window.console.log("mailchimp ajax submit error: "+e)}});var m="Submitting...";return"en"!==l.language&&a.ajaxChimp.translations&&a.ajaxChimp.translations[l.language]&&a.ajaxChimp.translations[l.language].submit&&(m=a.ajaxChimp.translations[l.language].submit),n.html(m).show(),setTimeout(function(){n.hide()},4500),!1})}),this}}(jQuery);